<md-card *ngIf="company">
    <md-card-content>
        <div class="section">
            <div class="section-content">
                <div class="row" *ngIf="pbrId">

                    <span style="font-weight: bold;" *ngIf="!isEditMode">Company billing responsible person</span><br />
                    <span class="current-user" *ngIf="!isEditMode">{{currentPBRUser}}</span>

                    <md-input-container *ngIf="isEditMode" style="width: 350px;">
                        <input mdInput placeholder="Company billing responsible person" [mdAutocomplete]="auto" [formControl]="userCtrl" [(ngModel)]="currentPBRUser">
                    </md-input-container>

                    <md-autocomplete #auto="mdAutocomplete" [displayWith]="displayFn">
                        <md-option *ngFor="let user of filtered | async" [value]="user">
                            {{ user.value }}
                        </md-option>
                    </md-autocomplete>

                    <span *ngIf="isBillingUser">
                        <a class="btn btn-success" *ngIf="!isEditMode" (click)="showEditPBR()">Edit</a>

                        <span *ngIf="isEditMode">
                            <button type="button" class="btn btn-success" (click)="saveUser()">Save</button>
                            <button type="button" class="btn btn-danger" (click)="cancel()">Cancel</button>
                        </span>
                    </span>
                </div>
                <div class="row" *ngIf="!pbrId">
                    <p class="text-warn">PBR error</p>
                </div>
            </div>
        </div>
    </md-card-content>

    <md-card-content>
        <div class="section">
            <div class="section-content">
                <div class="row" *ngIf="pbrId">

                    <span style="font-weight: bold;">Notifications</span><br />
                    <span>Put here email addresses, coma-separated. We will send there notifications on successful payments for your company invoices.</span><br /><br />

                    <md-form-feild style="width: 350px;">
                        <textarea style="width: 350px;" mdInput placeholder="john@example.com" [(ngModel)]="extraBillingReceivers"></textarea>
                    </md-form-feild>

                    <button type="button" class="btn btn-success" (click)="saveExtraBillingReceivers()">Save</button>

                </div>
            </div>
        </div>
    </md-card-content>
</md-card>